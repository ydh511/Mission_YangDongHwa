# Mission : 게시판
## 1. 전체 구조
entity - repository - controller - service의 구조로 이루어져있습니다. entity에서 Dto 로 정보를 넘겨줘야하지만 이 프로젝트에서는 entity를 바로 사용했습니다. 프로젝트를 진행하다보니 여러가지 DB의 데이터 접근작업을 처리해야 할 일(예를 들어 게시글의 내림차순 정리) 이 있어서 repository에 각각 정의해서 처리했습니다.

게시판과 게시글에 대한 작업은 ArticleController와 ArticleService에서 한꺼번에 처리했으며 댓글은 CommentController와 CommentService에서 처리했습니다. 

첫 실행시 데이터를 어느정도 가지고있기위해 data.sql을 통해 데이터를 넣어줬습니다. 그리고 ```jpa.hiberante.ddl-auto: create``` 설정을 했습니다.
## 2. 게시판 기능
최초 실행시 : 처음 ```/board```에 접속하게 되면 전체 게시판으로 접속하게 되며, 상단에는 게시판의 목록과 그 아래에는 전체 게시글이 내림차순으로 보여지게됩니다. 

게시판 이동 : 상단에서 원하는 게시판을 클릭하면 ```/board/{BoardId}```로 이동하며 원하는 게시판이 제목으로 출력되며 게시판 종류에 맞는 게시글이 내림차순으로 보여지게됩니다.
## 3. 게시글 기능
게시글 쓰기 : 게시판에서 하단에 있는 'create'를 누르게되면 ```/board/create_view```로 이동하며 게시글 작성 페이지가 보여집니다. 해당 페이지에서 제목, 내용, 비밀번호를 쓰고 게시판종류를 선택한 뒤 제출을 누르면 해당 게시글이 게시글 최상단에 보여지게됩니다. 게시글 작성중 작성을 취소하고싶으면 하단의 'back'을 누르시면 게시글 작성이 취소되고 메인페이지인 ```/board```로 이동합니다.

게시글 보기 : 전체 게시판이나 세부 게시판에서 원하는 게시글을 클릭하면 ```/board/article/{articleId}```로 이동하며 해당 게시글이 출력됩니다. 해당 페이지 상단에는 게시글 내용과 수정, 삭제버튼이 있으며 하단에는 댓글보기와 댓글쓰기 버튼가 있습니다. 만약 댓글이 없을경우 '아무런 댓글이 없습니다' 문구가출력되며 댓글이 있을 경우 댓글과 그 댓글의 수정하기버튼과 올바른 비밀번호를 넣고 삭제할 수 있는 버튼이 있습니다.

게시글 수정 : 해당 게시글에서 '게시글수정'을 누르면 ```/board/article/{articleId}/update_view```로 이동하며 게시글 수정 페이지가 보여지게됩니다. 해당 페이지에서 수정 전의 제목, 내용이 보여집니다. 제목, 내용을 수정하고 수정할 게시판에서 수정할 게시판 종류까지 옮긴 후 올바른 비밀번호를 넣으면 게시글이 수정되면서 ```/board/article/{articleId}```인 해당 게시글 페이지로 돌아가게 됩니다. 만약 비밀번호가 틀렸을 경우 ```/board/article/{articleId}```인 해당 게시글 페이지로 돌아가게 되지만 내용이 수정되지는 않습니다.

게시글 삭제 : 해당 게시글을 삭제하고 싶을 경우 비밀번호를 넣는 칸에 올바른 비밀번호를 넣고 게시글 삭제를 넣게되면 게시글과 해당 게시글의 댓글들이 모두 삭제되면서 메인페이지인 ```/board```로 이동하게 됩니다. 비밀번호가 틀렸을 경우 삭제되지 않고 ```/board/article/{id}```에 계속 머물게 됩니다.
## 4. 댓글 기능
댓글 쓰기 : 게시글에서 댓글을 쓰고싶은 경우 '댓글쓰기'를 누르면 ```/comment/create_view/{articleId}```로 이동하며 댓글쓰기 페이지가 보여집니다. 해당 페이지에서는 댓글쓰기와 비밀번호 설정이 가능합니다. 원하는 댓글을 쓴 뒤 제출을 누르면 전에 보던 게시글페이지인 ```/board/article/{articleId}```로 돌아가게되고 댓글이 오름차순으로 보여지게됩니다.

댓글 수정 : 댓글을 수정하고 싶은 경우 원하는 댓글 옆에 있는 '댓글수정'을 누르면 ```/comment/update_view/{commentId}/{articleId}```로 이동하게 됩니다. 해당 페이지에서 댓글을 수정한 후 '제출'을 눌렀을 시 올바른 비밀번호면 해당 게시글인 ```/board/article/{articleId}```로 이동하면서 수정한 댓글이 보여지게됩니다. 만약 틀렸을 경우 ```/board/article/{articleId}```로 이동하긴 하지만 댓글이 수정되지는 않습니다.

댓글 삭제 : 댓글을 삭제하고 싶은 경우 원하는 댓글 아래에 있는 '비밀번호'칸에 올바른 비밀번호를 넣고 '댓글삭제'버튼을 누르면 해당 게시글인 ```/board/article/{articleId}```로 이동하며 삭제된 댓글이 보여지지 않습니다. 만약 비밀번호가 틀렸을 경우 해당 댓글은 삭제되지 않습니다.

## 5. 어려웠던 점
1:N 관계를 설정하면서 어려운점을 느끼게 됐습니다. 해당 관계를 설정하는 점과 해당 관계를 이용해서 Repository에서 데이터를 조작하고 싶었는데 조작방법이 미숙해서 데이터 칸 하나를 더 파서 조작했습니다. entity - Comment에 articleId라는 변수가 하나 더 있는것이 그 이유입니다. 이 외에는 처음에는 어려웠다가 프로젝트를 진행하면서 어느정도 손에 익으면서 쉬워지게됐습니다.



